<!DOCTYPE html>
<html lang="en">
{% if user and not user.is_anonymous or username %}
	{% load static %}
		<head>
			<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
			<meta name="description" content="">
			<meta name="author" content="">
			<link rel="icon" href="{% static 'ico/favicon.ico' %}">


			<title>WeEdit | Projects</title>

			<!-- Bootstrap core CSS -->
			<link href="{% static 'dist/css/bootstrap.min.css' %}" rel="stylesheet">

			<!-- Custom styles for this template -->
			<link href="{% static 'dist/css/sticky-footer-navbar.css' %}" rel="stylesheet">

			<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
			<!--[if lt IE 9]><script src="assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
			<script src="{% static 'assets/js/ie-emulation-modes-warning.js' %}"></script>

			<!-- Override Bootstrap core CSS -->
			<link href="{% static 'dist/css/style.css' %}" rel="stylesheet">

			<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
			<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
			<![endif]-->
			<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="ka4kg1gb2iv4psm"></script>
		</head>

		<body>
			<!-- Fixed navbar -->
			<nav class="navbar navbar-default navbar-fixed-top">
				<div class="container">
					<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="#">We Edit</a>
					</div>
					<div id="navbar" class="collapse navbar-collapse pull-right">
						<ul class="nav navbar-nav">
							<li><a href="#">Home</a></li>
							<li><a href="#refer">Refer a Friend</a></li>
							<li><a href="#portfolio">My Portfolio</a></li>
							<li class="active"><a href="/dashboard/">New Project</a></li>
							<li><a href="#" onclick="logOut();">Logout</a></li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</nav>
			<input type="hidden" id="username" value="{{username}}">
			<input type="hidden" id="userid" value="{{userid}}">
			<!-- Begin page content -->
			<div class="container" style="width:100%">
				<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingOne">
							<h4 class="panel-title">
								<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
									<span class="title-icon">
										<i class="glyphicon glyphicon-tags"></i>
									</span>
									<label id="projectTitle">Project Title</label>
								</a>
							</h4>
						</div>
						<div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
							<div class="panel-body">
								<textarea placeholder="Enter the title of your video" class="col-md-12" onChange="setProjectTitle(this);"></textarea>
							</div>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingTwo">
							<h4 class="panel-title">
								<a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
									<span class="title-icon">
										<i class="glyphicon glyphicon-facetime-video"></i>
									</span>
									Videos & Photos
								</a>
								<div class="col-md-10 pull-right">
									<div class="dropdown">
										<a href="#" data-toggle="dropdown" class="dropdown-toggle">Sources <b class="caret"></b></a>
										<ul class="dropdown-menu">
											<li onclick="fetchDropBox(this,'vids');">
												<a href="#" ><i class="glyphicon glyphicon-cloud-upload"></i> Dropbox</a>
											</li>
											<li>
												<a href="#" onclick="uploadManual(this)"><i class="glyphicon glyphicon-upload"></i> Upload</a>
												<input type="file" class="my_video_file" name="my_file" style="display: none;" accept="image/*, video/*" multiple/>
											</li>
										</ul>
									</div>
								</div>
							</h4>
						</div>
						<div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
							<div class="panel-body">
								<div class="container pull-left">
									<div class="row" id="dropboxVideos">
									</div>
								</div>
							</div>
							<div class="panel-body">
								<div class="container pull-left">
									<div class="row" id="localUploadVideos">
									</div>
								</div>
							</div>

						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingThree">
							<h4 class="panel-title">
								<a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
									<span class="title-icon">
										<i class="glyphicon glyphicon-music"></i>
									</span>
									Music
								</a>
								<div class="col-md-10 pull-right">
									<div class="dropdown">
										<a href="#" data-toggle="dropdown" class="dropdown-toggle">Sources <b class="caret"></b></a>
										<ul class="dropdown-menu">
											<li onclick="fetchDropBox(this,'aud');">
												<a href="#" ><i class="glyphicon glyphicon-cloud-upload"></i> Dropbox</a>
											</li>
											<li>
												<a href="#" onclick="uploadManual(this)"><i class="glyphicon glyphicon-upload"></i> Upload</a>
												<input type="file" class="my_audio_file" name="my_file" style="display: none;" accept="audio/*" multiple/>
											</li>
										</ul>
									</div>
								</div>
							</h4>
						</div>
						<div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
							<div class="panel-body">
								<div class="container pull-left">
									<div class="row" id="dropboxMusic">
									</div>
								</div>
							</div>
							<div class="panel-body">
								<div class="container pull-left">
									<div class="row" id="localUploadAudios">
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="headingFour">
							<h4 class="panel-title">
								<a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
									<span class="title-icon">
										<i class="glyphicon glyphicon-list"></i>
									</span>
									Instructions
								</a>
							</h4>
						</div>
						<div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
							<div class="panel-body">
								<textarea id="instructions" placeholder="Enter the instructions for your files" class="col-md-12" row=12></textarea>
							</div>
						</div>
					</div>
				</div>
			</div>
			<footer class="footer">
				<div class="container">
					<div id="navbar" class="collapse navbar-collapse fooler-bar">
						<ul class="nav navbar-nav col-md-4">
							<li><a href="#" class="glyphicon glyphicon-refresh" onClick="updateStats()"></a></li>
							<li><a id="MusCount" href="#">Music 0</a></li>
							<li><a id="VidCount" href="#">Videos 0</a></li>
						</ul>
						<ul class="nav navbar-nav col-md-3">
							<li class="col-md-offset-3"><a id="priceCount" href="#">Total: <b>$00.00</b></a></li>
						</ul>
						<ul class="nav navbar-nav col-md-5 cus-btn">
							<li><a href="#"><input class="btn btn-link" type="button" value="Cancel" name="cancel"></a></li>
							<li><a href="#"><input class="btn btn-primary" type="button" onclick="create_project()" value="Save" name="save"></a></li>
							<li id="loading" style="display:none;"><img src="{% static 'img/loader.gif' %}"/></li>
							<li><a href="#"><input class="btn btn-default" type="button" value="Checkout" name="checkout"></a></li>
						</ul>
					</div>
				</div>
			</footer>
			<!-- Bootstrap core JavaScript
			================================================== -->
			<!-- Placed at the end of the document so the pages load faster -->
			<script src="{% static 'js/jquery-1.11.1.min.js' %}"></script>
	        <script src="{% static 'dist/js/bootstrap.min.js' %}"></script>
			<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
			<script src="{% static 'assets/js/ie10-viewport-bug-workaround.js' %}"></script>
			<script src="{% static 'dist/js/custom.js' %}"></script>    
		</body>
		<script type="text/javascript">
		var dropBoxFiles; 
		var video_files;
		var audio_files;
		var video_filesList = []
		var audio_filesList = []
		$("input[class='my_video_file']").on('change', function(evt){
			video_files = evt.target.files;
			video_filesList.push(video_files)
			updatelocalVideos()
			// console.log(video_files);
		});
		$("input[class='my_audio_file']").on('change', function(evt){
			audio_files = evt.target.files;
			audio_filesList.push(audio_files)
			updatelocalAudios()
			// console.log(video_files);
		});

	    </script>

	{% else %}
	
		<head>
			<meta http-equiv="refresh" content="0; url=/" />
		</head>
		<script type="text/javascript">
	        window.location.href = "/"
	    </script>

	{% endif %}
</html>
